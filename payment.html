<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="css/site.css" />
	<link rel="stylesheet" type="text/css" href="css/payment.css" />
	<title>购买确认</title>
</head>

<body>
	<!-- header -->
	<div class="header">
		<div class="audio-search">
			<span class="arrow-back"></span>
		</div>
		<div class="other-search">
			<span></span>
		</div>
		<div class="input-search header-h">购买清单</div>
	</div>
	<!-- 主体部分 -->
	<div class="container payment">
		<div class="pay-h">
			<div class="ph-check" onclick="checkAction(this,true)" id="checkAll">
				<span></span>
				全选
			</div>
			<div class="ph-sort active">
				排序
			</div>
		</div>
		<div class="pay-list">
			<ul>
				<li>
					<div onclick="checkAction(this)" class="ph-check">
						<span></span>
					</div>
					<div class="ph-idnex">31</div>
					<div class="ph-text">
						<div class="h">财务危机应用实操十个财务危应用实两行，超过两行隐藏</div>
						<div class="p">
							<span class="time">16：14</span>
							￥999.00 ￥999.00
						</div>
					</div>
				</li>
				<li>
					<div onclick="checkAction(this)" class="ph-check">
						<span></span>
					</div>
					<div class="ph-idnex">31</div>
					<div class="ph-text">
						<div class="h">财务危机应用实操十个财务危应用实两行，超过两行隐藏</div>
						<div class="p">
							<span class="time">16：14</span>
							￥999.00 ￥999.00
						</div>
					</div>
				</li>
				<li>
					<div onclick="checkAction(this)" class="ph-check">
						<span></span>
					</div>
					<div class="ph-idnex">31</div>
					<div class="ph-text">
						<div class="h">财务危机应用实操十个财务危应用实两行，超过两行隐藏</div>
						<div class="p">
							<span class="time">16：14</span>
							￥999.00 ￥999.00
						</div>
					</div>
				</li>
				<li>
					<div onclick="checkAction(this)" class="ph-check">
						<span></span>
					</div>
					<div class="ph-idnex">31</div>
					<div class="ph-text">
						<div class="h">财务危机应用实操十个财务危应用实两行，超过两行隐藏</div>
						<div class="p">
							<span class="time">16：14</span>
							￥999.00 ￥999.00
						</div>
					</div>
				</li>
				<li>
					<div onclick="checkAction(this)" class="ph-check">
						<span></span>
					</div>
					<div class="ph-idnex">31</div>
					<div class="ph-text">
						<div class="h">财务危机应用实操十个财务危应用实两行，超过两行隐藏</div>
						<div class="p">
							<span class="time">16：14</span>
							￥999.00 ￥999.00
						</div>
					</div>
				</li>
				<li>
					<div onclick="checkAction(this)" class="ph-check">
						<span></span>
					</div>
					<div class="ph-idnex">31</div>
					<div class="ph-text">
						<div class="h">财务危机应用实操十个财务危应用实两行，超过两行隐藏</div>
						<div class="p">
							<span class="time">16：14</span>
							￥999.00 ￥999.00
						</div>
					</div>
				</li>
				<li>
					<div onclick="checkAction(this)" class="ph-check">
						<span></span>
					</div>
					<div class="ph-idnex">31</div>
					<div class="ph-text">
						<div class="h">财务危机应用实操十个财务危应用实两行，超过两行隐藏</div>
						<div class="p">
							<span class="time">16：14</span>
							￥999.00 ￥999.00
						</div>
					</div>
				</li>
				<li>
					<div onclick="checkAction(this)" class="ph-check active">
						<span></span>
					</div>
					<div class="ph-idnex">31</div>
					<div class="ph-text">
						<div class="h">财务危机应用实操十个财务危应用实两行，超过两行隐藏</div>
						<div class="p">
							<span class="time">16：14</span>
							￥999.00 ￥999.00
						</div>
					</div>
				</li>
			</ul>
		</div>
		<div class="pay-action">
			<div class="pa-h">支付操作区</div>
			<div class="pa-content">
				<div class="pac-coupon">
					<ul>
						<li>
							<span class="tag"></span>
							<a href="coupon.html">
								价值5555元抵扣券叽里呱啦叽里呱啦啦叽里呱啦...
							</a>
						</li>
					</ul>
				</div>
			</div>
			<div class="pa-method">
				<div class="h">支付方式选择</div>
				<ul>
					<li class="active">
						<div class="icon">
							<img src="temp/v7.jpg" width="28" height="28">
						</div>
						<div class="check"></div>
						微信支付
					</li>
					<li>
						<div class="icon">
							<img src="temp/v7.jpg" width="28" height="28">
						</div>
						<div class="check"></div>
						微信支付
					</li>
					<li>
						<div class="icon">
							<img src="temp/v7.jpg" width="28" height="28">
						</div>
						<div class="check"></div>
						微信支付
					</li>
				</ul>
			</div>
			<div class="pa-total">
				已选156集，总计：
				<span class="active"> ￥8008 或 ∝8008</span>
			</div>

			<div class="pa-submit">
				<button>立即购买</button>
			</div>
		</div>
	</div>
	<script>
		/* 全选 */
		function checkAction($this, all) {
			let lists = document.querySelectorAll(".pay-list ul li .ph-check");
			let arrLists = [];
			for (let i = 0; i < lists.length; i++) {
				arrLists.push(lists[i]);
			}
			if (all) {
				let isAllChecked = arrLists.every(v => v.className === "ph-check active");
				$this.className = !isAllChecked ? "ph-check active" : "ph-check";
				for (let i = 0; i < lists.length; i++) {
					if (isAllChecked) {
						lists[i].className = "ph-check";
					} else {
						lists[i].className = "ph-check active";
					}
				}
			} else {
				let checkAll = document.querySelector("#checkAll");
				let thisIsChecked = $this.className === "ph-check";
				let othersIsChecked = arrLists.every(v => v.className === "ph-check active" || (v.className === "ph-check" && v === $this));
				if (thisIsChecked) {
					$this.className = "ph-check active";
					if (othersIsChecked) checkAll.className = "ph-check active";
				} else {
					$this.className = "ph-check";
					checkAll.className = "ph-check";
				}

			}
		}
	</script>
</body>

</html>